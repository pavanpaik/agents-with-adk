[pytest]
# Pytest configuration for Python Codebase Reviewer

# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Directories to search for tests
testpaths = tests python_codebase_reviewer/eval

# Minimum Python version
minversion = 6.0

# Command line options
addopts =
    # Verbose output
    -v
    # Show test summary
    -ra
    # Show local variables in tracebacks
    --showlocals
    # Strict markers
    --strict-markers
    # Coverage report (if pytest-cov installed)
    # --cov=python_codebase_reviewer
    # --cov-report=html
    # --cov-report=term-missing

# Markers for categorizing tests
markers =
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (may call external APIs)
    e2e: End-to-end tests (full workflow tests)
    slow: Tests that take a long time to run
    requires_github: Tests that require GitHub API access
    requires_google: Tests that require Google AI API access
    requires_cli: Tests that require gh CLI installed

# Ignore these paths during collection
norecursedirs =
    .git
    .tox
    dist
    build
    *.egg
    __pycache__
    .venv
    venv
    node_modules

# Timeout for tests (requires pytest-timeout)
# timeout = 300

# Parallel execution (requires pytest-xdist)
# -n auto

# Output
console_output_style = progress

# Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
